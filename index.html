<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>document</title>
    <link rel="stylesheet" href="styles/common.css">
</head>
<body>

<div id="scene1">
    <button class="start">开始游戏</button>
    <button class="rule">规则</button>
</div>

<div id="scene2">
    <div class="countdown"></div>
    <div class="jigsaw"></div>
    <div class="preview"><img alt=""></div>
</div>

<div class="backdrop"></div>

<!-- 公共引用 -->
<script src="js/lib/hotcss.js"></script>
<script src="js/lib/zepto.js"></script>
<script src="js/lib/touch.js"></script>
<link rel="stylesheet" href="js/lib/dialog/game-dialog.css">
<script src="js/lib/dialog/game-dialog.js"></script>

<script src="js/lib/Watcher.js"></script>
<script src="js/tools/tools.js"></script>
<script src="js/lib/collisionChecker.js"></script>
<script src="js/lib/Dragify.js"></script>
<script src="js/lib/Countdown.js"></script>

<script>
    window.GAME_PARAMS = {
        items: [
                'https://gd2.alicdn.com/imgextra/i3/TB1g99GKVXXXXbCapXXYXGcGpXX_M2.SS2',
            'https://gd3.alicdn.com/imgextra/i3/49752588/TB2HiGVgFXXXXXnXXXXXXXXXXXX_!!49752588.jpg',
        ],
        time : 15000,
        sizeX: 3,
        sizeY: 3
    }

    var gameWatcher = window.gameWatcher = new Watcher()

    /**
     * 带*的为emit类型
     *
     * scene:
     *   ready 加载完毕
     *   start 点击开始
     *   win   通过
     *   fail  失败
     *
     * show:
     *   rule 规则
     *
     * game:
     *   *play   开始
     *   *replay 重玩
     */
    gameWatcher
            .on('scene:ready', function () {
                console.log('ready')
            })
            .on('scene:start', function () {
                gameWatcher.emit('game:play')
            })
            .on('show:rule', function () {
                console.log('rule')
            })
            .on('scene:win', function () {
                console.log('win')
                alert('win')
            })
            .on('scene:fail', function () {
                console.log('fail')
                gameWatcher.emit('game:replay')
                alert('fail')
            })
</script>
<script src="js/app/Scene1.js"></script>
<script src="js/app/Scene2.js"></script>
<script src="js/main.js"></script>
</body>
</html>